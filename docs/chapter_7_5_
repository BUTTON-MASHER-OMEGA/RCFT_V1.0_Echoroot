##YAML


config:
  # Critical band and uncertainty
  beta:
    band: [0.3934, 0.3990]
    beta_c: 0.39614
    beta_c_uncertainty: 0.0014        # 1Ïƒ, to be propagated
    sweep:
      delta_beta: 0.0001              # narrow sweep step
  lattice:
    dimensions: 2                     # default (3 optional)
    size_L: 128
    boundary: periodic
    neighborhood: moore_radius_1      # options: moore_radius_1 | von_neumann_radius_1
  state_space:
    K: 2                              # 2 (binary); 3 reserved for Â§8.1
  energy:
    J: 1.0
    h: 0.0
  updates:
    family: metropolis                # options: metropolis | heat_bath
    throttle:
      type: smooth_band
      width_half: 0.0028              # â‰ˆ (band_width)/2
      lambda: 0.0005                  # outside-band decay scale
  scheduling:
    gamma:
      a0: 0.0
      a1: 1.0
      min: 0.1
      max: 2.0
    curvature_guard_tau: 0.001
    epsilon_sensitivity:
      enabled: true
      d_beta_c_d_epsilon: 0.0         # set if Îµ is present; else 0
      max_abs_drift_per_1k_sweeps: 0.0003
  runs:
    sweeps:
      warmup: 2000
      measure: 8000                   # total ~1e4 sweeps typical
    seeds: [101, 202, 303, 404, 505]  # example; extend for ensemble stats
  observables:
    measure_every_sweeps: 5
    corr_length_kmin: [2*pi/size_L, 0]  # for Î¾ via second-moment (2D)
  output:
    record: [e_t, m_t, C_L_beta, U4_beta, xi_beta, tau_int_beta]
    formats: [csv, parquet]



##Chapter 7_5 Notes

Chapter 7.5: Entropyâ€‘driven cellular automaton (EDâ€‘CA)
A compact, executionâ€‘ready specification that extends the thermodynamic results of 7.1â€“7.4 into a cellular automaton for stability, ignition, and phaseâ€‘transition mapping. All thresholds and constants below are tunable via the YAML preamble.

yaml
config:
  # Critical band and uncertainty
  beta:
    band: [0.3934, 0.3990]
    beta_c: 0.39614
    beta_c_uncertainty: 0.0014        # 1Ïƒ, to be propagated
    sweep:
      delta_beta: 0.0001              # narrow sweep step
  lattice:
    dimensions: 2                     # default (3 optional)
    size_L: 128
    boundary: periodic
    neighborhood: moore_radius_1      # options: moore_radius_1 | von_neumann_radius_1
  state_space:
    K: 2                              # 2 (binary); 3 reserved for Â§8.1
  energy:
    J: 1.0
    h: 0.0
  updates:
    family: metropolis                # options: metropolis | heat_bath
    throttle:
      type: smooth_band
      width_half: 0.0028              # â‰ˆ (band_width)/2
      lambda: 0.0005                  # outside-band decay scale
  scheduling:
    gamma:
      a0: 0.0
      a1: 1.0
      min: 0.1
      max: 2.0
    curvature_guard_tau: 0.001
    epsilon_sensitivity:
      enabled: true
      d_beta_c_d_epsilon: 0.0         # set if Îµ is present; else 0
      max_abs_drift_per_1k_sweeps: 0.0003
  runs:
    sweeps:
      warmup: 2000
      measure: 8000                   # total ~1e4 sweeps typical
    seeds: [101, 202, 303, 404, 505]  # example; extend for ensemble stats
  observables:
    measure_every_sweeps: 5
    corr_length_kmin: [2*pi/size_L, 0]  # for Î¾ via second-moment (2D)
  output:
    record: [e_t, m_t, C_L_beta, U4_beta, xi_beta, tau_int_beta]
    formats: [csv, parquet]
Scope and objectives
Goal: Extend the entropy/heatâ€‘capacity framework to a CA that (i) stabilizes near ignition, (ii) maps the phase behavior, and (iii) produces convergence diagnostics with uncertainty propagation.

Ignition window: 
ğ›½
âˆˆ
[
0.3934
,
â€‰
0.3990
]
 with 
ğ›½
ğ‘
=
0.39614
Â±
0.0014
. Simulations must treat 
Â±
0.0014
 as a firstâ€‘class uncertainty in scheduling, acceptance throttling, and analysis.

Primary outputs: Phase map: 
ğ›½
â†¦
(
ğ‘š
,
ğ¶
ğ¿
,
ğ‘ˆ
4
)
. Stability: 
ğœ‰
,
â€‰
ğœ
int
. Convergence: seedâ€‘wise and sizeâ€‘wise agreement within prescribed tolerances.

1. Model definition
1.1 Cellular automaton lattice
Lattice: dâ€‘dimensional grid 
Î›
; default 
ğ‘‘
=
2
, optional 
ğ‘‘
=
3
.

Sites and states: 
ğ‘–
âˆˆ
Î›
, base states 
ğ‘ 
ğ‘–
(
ğ‘¡
)
âˆˆ
{
0
,
1
}
, extensible to 
{
0
,
1
,
â€¦
,
ğ¾
âˆ’
1
}
.

Neighborhood: Default Moore radius 1; switchable to von Neumann radius 1.

Boundary conditions: Periodic.

Mathematical form
Indexing:

Î›
=
{
1
,
â€¦
,
ğ¿
}
ğ‘‘
,
ğ‘
ğ‘–
=
{
ğ‘—
âˆˆ
Î›
:
âˆ¥
ğ‘—
âˆ’
ğ‘–
âˆ¥
âˆ
=
1
}
1.2 Local energy functional
Definition (binary base): Pairwise Isingâ€‘like with external field 
â„
.

ğ¸
ğ‘–
(
ğ‘¡
)
=
âˆ’
ğ½
âˆ‘
ğ‘—
âˆˆ
ğ‘
ğ‘–
1
[
ğ‘ 
ğ‘—
(
ğ‘¡
)
=
ğ‘ 
ğ‘–
(
ğ‘¡
)
]
+
â„
â‹…
1
[
ğ‘ 
ğ‘–
(
ğ‘¡
)
=
1
]
Î”
ğ¸
ğ‘–
=
ğ¸
ğ‘–
â€²
(
ğ‘¡
)
âˆ’
ğ¸
ğ‘–
(
ğ‘¡
)
Defaults: 
ğ½
=
1
, 
â„
=
0
. Nonâ€‘zero 
â„
 reserved for perturbation tests.

Extension (multiâ€‘state): Replace indicator with Kronecker 
ğ›¿
ğ‘ 
ğ‘—
,
ğ‘ 
ğ‘–
 for Pottsâ€‘like generalization (see Â§8.1).

1.3 Thermodynamic link
Partition function:

ğ‘
(
ğ›½
)
=
âˆ‘
configs
ğ‘’
âˆ’
ğ›½
ğ¸
Free energy:

ğ¹
(
ğ›½
)
=
âˆ’
ğ›½
âˆ’
1
ln
â¡
ğ‘
(
ğ›½
)
Internal energy:

ğ‘ˆ
(
ğ›½
)
=
âˆ’
âˆ‚
âˆ‚
ğ›½
ln
â¡
ğ‘
(
ğ›½
)
Entropy:

ğ‘†
(
ğ›½
)
=
ğ›½
â€‰
[
ğ‘ˆ
(
ğ›½
)
âˆ’
ğ¹
(
ğ›½
)
]
Heat capacity and derivatives (for gating/scheduling):

ğ¶
(
ğ›½
)
=
ğ›½
2
â€‰
V
a
r
[
ğ¸
]
,
ğ‘†
â€²
(
ğ›½
)
=
âˆ’
ğ¶
(
ğ›½
)
ğ›½
ğ‘†
â€²
â€²
(
ğ›½
)
=
âˆ’
ğ¶
â€²
(
ğ›½
)
ğ›½
+
ğ¶
(
ğ›½
)
ğ›½
2
2. Update rule family
2.1 Metropolisâ€‘type local acceptance
Proposal: 
ğ‘ 
ğ‘–
â€²
=
1
âˆ’
ğ‘ 
ğ‘–
 (binary flip).

Acceptance:

ğ‘
acc
(
ğ‘–
,
ğ‘¡
)
=
min
â¡
(
1
,
â€‰
ğ‘’
âˆ’
ğ›½
â€‰
Î”
ğ¸
ğ‘–
(
ğ‘¡
)
)
â‹…
ğ‘”
(
ğ›½
)
Throttle 
ğ‘”
(
ğ›½
)
: Smooth, bandâ€‘aware multiplier.

Definition (smooth_band): Let 
ğ‘¤
=
(
ğ›½
max
â¡
âˆ’
ğ›½
min
â¡
)
/
2
 and 
ğ›¿
=
âˆ£
ğ›½
âˆ’
ğ›½
ğ‘
âˆ£
.

ğ‘”
(
ğ›½
)
=
{
1
,
ğ›¿
â‰¤
ğ‘¤
exp
â¡
â€‰â£
(
âˆ’
(
ğ›¿
âˆ’
ğ‘¤
)
/
ğœ†
)
,
ğ›¿
>
ğ‘¤
Defaults: 
ğ‘¤
=
0.0028
, 
ğœ†
=
0.0005
.

2.2 Heatâ€‘bath (Glauber) variant
Flip probability:

ğ‘ƒ
(
ğ‘ 
ğ‘–
(
ğ‘¡
+
1
)
=
1
â€‰
âˆ£
â€‰
neighbors
)
=
1
1
+
exp
â¡
(
ğ›½
â€‰
Î”
ğ¸
ğ‘–
(
1
â†’
0
)
)
Note: Use either Metropolis or heatâ€‘bath per config; do not mix within a run.

2.3 Global constraints (thermodynamic gating)
Curvature guard: Freeze or downâ€‘weight updates if

âˆ£
ğ‘†
â€²
â€²
(
ğ›½
)
âˆ£
>
ğœ
,
ğœ
=
0.001
Action: If violated, set 
ğ‘”
(
ğ›½
)
â†
0
 and/or reduce scheduler cadence (see Â§5).

3. Parameterization and initialization
3.1 Critical band and uncertainty propagation
Band: 
ğ›½
âˆˆ
[
0.3934
,
â€‰
0.3990
]
; baseline 
ğ›½
ğ‘
=
0.39614
.

Propagation: For each experiment, construct ensembles that:

Uniform grid: 
ğ›½
ğ‘˜
=
ğ›½
min
â¡
+
ğ‘˜
â€‰
Î”
ğ›½
, 
Î”
ğ›½
=
10
âˆ’
4
.

Randomized offsets: Sample 
ğ›½
~
âˆ¼
ğ‘
(
ğ›½
ğ‘
,
â€‰
ğœ
2
)
 with 
ğœ
=
0.0014
 to assess sensitivity.

Requirement: Report metrics aggregated over both grid and stochastic 
ğ›½
~
 ensembles.

3.2 Couplings
Defaults: 
ğ½
=
1
, 
â„
=
0
.

Bias tests: Include 
â„
âˆˆ
{
Â±
0.01
,
Â±
0.02
}
 in Â§6.4 to quantify symmetry breaking effects.

3.3 Lattice and boundary conditions
Sizes: 
ğ¿
âˆˆ
{
64
,
128
,
256
}
 for finiteâ€‘size scaling.

Boundary: Periodic in all dimensions.

3.4 Initialization
Random Bernoulli: 
ğ‘ 
ğ‘–
(
0
)
âˆ¼
B
e
r
n
o
u
l
l
i
(
ğ‘
0
)
, default 
ğ‘
0
=
0.5
.

Structured: Checkerboard initialization for worstâ€‘case relaxation tests.

Seeds: Fix PRNG seeds per run for reproducibility.

4. Observables and diagnostics
4.1 Thermodynamic observables
Energy density:

ğ‘’
(
ğ‘¡
)
=
ğ¸
(
ğ‘¡
)
âˆ£
Î›
âˆ£
Magnetization (binary spin map 
ğ‘¥
ğ‘–
=
2
ğ‘ 
ğ‘–
âˆ’
1
):

ğ‘š
(
ğ‘¡
)
=
1
âˆ£
Î›
âˆ£
âˆ‘
ğ‘–
ğ‘¥
ğ‘–
(
ğ‘¡
)
Finiteâ€‘size heat capacity estimate:

ğ¶
ğ¿
(
ğ›½
)
=
ğ›½
2
â€‰
âˆ£
Î›
âˆ£
â€‰
V
a
r
ğ‘¡
[
ğ‘’
(
ğ‘¡
)
]
Validation: Compare 
ğ¶
ğ¿
(
ğ›½
)
 peak location versus 
ğ›½
ğ‘
 band and Binder crossings (Â§4.3).

4.2 Stability metrics
Correlation length (secondâ€‘moment, using structure factor 
ğ‘†
(
ğ‘˜
)
):

ğœ‰
=
1
2
sin
â¡
(
ğ‘˜
min
â¡
/
2
)
ğ‘†
(
0
)
ğ‘†
(
ğ‘˜
min
â¡
)
âˆ’
1
Notes: Use 
ğ‘˜
min
â¡
=
(
2
ğœ‹
/
ğ¿
,
0
)
 in 2D; compute 
ğ‘†
(
ğ‘˜
)
=
âŸ¨
âˆ£
ğ‘¥
^
(
ğ‘˜
)
âˆ£
2
âŸ©
.

Integrated autocorrelation time (for 
ğ‘š
 and 
ğ‘’
):

ğœ
int
=
1
2
+
âˆ‘
ğ‘¡
=
1
ğ‘‡
â€²
ğœŒ
(
ğ‘¡
)
Notes: Window 
ğ‘‡
â€²
 via standard selfâ€‘consistent cutoff; require 
ğœ
int
â‰ª
 total measured sweeps.

4.3 Phaseâ€‘transition mapping
Heatâ€‘capacity peak: Locate 
arg
â¡
max
â¡
ğ›½
ğ¶
ğ¿
(
ğ›½
)
 per 
ğ¿
.

Binder cumulant:

ğ‘ˆ
4
(
ğ›½
)
=
1
âˆ’
âŸ¨
ğ‘š
4
âŸ©
3
âŸ¨
ğ‘š
2
âŸ©
2
Crossing test: Plot 
ğ‘ˆ
4
(
ğ›½
)
 for 
ğ¿
âˆˆ
{
64
,
128
,
256
}
; estimate 
ğ›½
ğ‘
 from common crossing and compare with uncertainty band.

Convergence criterion: Seedâ€‘wise variability in peak 
ğ›½
 and 
ğ‘ˆ
4
 crossing < 
3
â€‰
Î”
ğ›½
.

5. Scheduling and control
5.1 Entropyâ€‘derivative scheduler
Cadence: Number of update attempts per sweep scales with 
âˆ£
ğ‘†
â€²
(
ğ›½
)
âˆ£
.

Î“
(
ğ›½
)
=
c
l
a
m
p
(
ğ‘
0
+
ğ‘
1
âˆ£
ğ‘†
â€²
(
ğ›½
)
âˆ£
,
Â 
Î“
min
â¡
,
Â 
Î“
max
â¡
)
Defaults: 
ğ‘
0
=
0
, 
ğ‘
1
=
1
, 
Î“
min
â¡
=
0.1
, 
Î“
max
â¡
=
2.0
.

5.2 Curvature guard
Freeze condition: If 
âˆ£
ğ‘†
â€²
â€²
(
ğ›½
)
âˆ£
>
ğœ
 with 
ğœ
=
0.001
, suspend updates (set 
ğ‘”
(
ğ›½
)
=
0
) and log event.

Softâ€‘guard option: Alternatively halve 
Î“
(
ğ›½
)
 until 
âˆ£
ğ‘†
â€²
â€²
(
ğ›½
)
âˆ£
â‰¤
ğœ
.

5.3 Îµâ€‘sensitivity (drift handling)
Adjustment:

ğ›½
(
ğ‘¡
+
Î”
ğ‘¡
)
â†
ğ›½
(
ğ‘¡
)
+
(
âˆ‚
ğ›½
ğ‘
âˆ‚
ğœ–
)
Î”
ğœ–
Bounds: Cap 
âˆ£
Î”
ğ›½
âˆ£
 by max_abs_drift_per_1k_sweeps; default 
3
Ã—
10
âˆ’
4
 per 1000 sweeps.

6. Experiments
6.1 Baseline stability at 
ğ›½
ğ‘
Setup: 
ğ›½
=
ğ›½
ğ‘
; 
ğ¿
âˆˆ
{
64
,
128
,
256
}
; seeds from config.

Measure: Means/variances of 
ğ‘’
,
ğ‘š
; 
ğœ
int
; 
ğœ‰
.

Acceptance: 
ğœ
int
<
1
10
 of measured sweeps and consistent 
ğœ‰
/
ğ¿
 across seeds.

6.2 Narrow sweep within ignition band
Grid: 
Î”
ğ›½
=
10
âˆ’
4
 over 
[
0.3934
,
0.3990
]
.

Record: 
ğ¶
ğ¿
(
ğ›½
)
,
â€‰
ğ‘š
(
ğ›½
)
,
â€‰
ğœ‰
(
ğ›½
)
,
â€‰
ğ‘ˆ
4
(
ğ›½
)
.

Goal: Pinpoint 
ğ¶
ğ¿
 peak and Binder crossings; compare to 
ğ›½
ğ‘
Â±
0.0014
.

6.3 Finiteâ€‘size scaling
Sizes: 
ğ¿
=
{
64
,
128
,
256
}
.

Analysis: Peak heights of 
ğ¶
ğ¿
 vs 
ğ¿
; 
ğ‘ˆ
4
 crossings; trend of 
ğœ‰
/
ğ¿
.

Extrapolation: Estimate thermodynamicâ€‘limit 
ğ›½
ğ‘
 and compare with prior chapters.

6.4 Perturbation response
Perturbations: 
ğ›½
â†’
ğ›½
Â±
ğ›¿
ğ›½
 with 
ğ›¿
ğ›½
=
0.0005
; optional 
â„
âˆˆ
{
Â±
0.01
,
Â±
0.02
}
.

Metric: Relaxation time back to steady statistics; change in 
ğœ
int
 and 
ğœ‰
.

Criterion: Stability if metrics return within 5% of baseline within 2
Ã—
ğœ
int
.

7. Computational notes
7.1 Complexity
Per sweep: 
ğ‘‚
(
âˆ£
Î›
âˆ£
)
.

Typical run: 
10
3
â€“
10
4
 sweeps per 
ğ›½
, per seed, per 
ğ¿
.

7.2 Randomness
PRNG: Fix and log seed; use independent substreams for warmup and measurement to reduce bias.

Documentation: Persist seeds and configuration hash with outputs.

7.3 Data products
Time series: 
ğ‘’
(
ğ‘¡
)
,
â€‰
ğ‘š
(
ğ‘¡
)
 at cadence; autocorrelation estimates; 
ğ‘†
(
ğ‘˜
)
 samples for 
ğœ‰
.

Aggregates: 
ğ¶
ğ¿
(
ğ›½
)
,
â€‰
ğ‘ˆ
4
(
ğ›½
)
,
â€‰
ğœ‰
(
ğ›½
)
,
â€‰
ğœ
int
(
ğ›½
)
.

Formats: CSV for quick plots; Parquet for large ensembles.

8. Extensions (appendix)
8.1 Multiâ€‘state CA (Pottsâ€‘like)
States: 
ğ‘ 
ğ‘–
âˆˆ
{
0
,
â€¦
,
ğ‘
âˆ’
1
}
 with 
ğ‘
=
ğ¾
.

Energy:

ğ¸
ğ‘–
(
ğ‘¡
)
=
âˆ’
ğ½
âˆ‘
ğ‘—
âˆˆ
ğ‘
ğ‘–
ğ›¿
ğ‘ 
ğ‘–
,
ğ‘ 
ğ‘—
+
âˆ‘
ğ‘
=
0
ğ‘
âˆ’
1
â„
ğ‘
â€‰
1
[
ğ‘ 
ğ‘–
=
ğ‘
]
Updates: Metropolis/heatâ€‘bath generalized to 
ğ‘
â€‘ary flips.

8.2 Anisotropic/decaying couplings
Definition:

ğ¸
ğ‘–
(
ğ‘¡
)
=
âˆ’
âˆ‘
ğ‘—
âˆˆ
ğ‘
ğ‘–
ğ½
ğ‘–
ğ‘—
â€‰
1
[
ğ‘ 
ğ‘–
=
ğ‘ 
ğ‘—
]
,
ğ½
ğ‘–
ğ‘—
âˆ
ğ‘“
(
âˆ¥
ğ‘–
âˆ’
ğ‘—
âˆ¥
)
Kernels: Exponential or powerâ€‘law decay; ensure normalization for comparability.

8.3 Direct coupling to 
ğ‘†
(
ğ›½
)
,
ğ¶
(
ğ›½
)
Driven updates: Make 
ğ½
 and/or 
ğ‘”
(
ğ›½
)
 explicit functions of measured 
ğ‘†
,
ğ¶
 to maintain a target 
âˆ£
ğ‘†
â€²
â€²
âˆ£
 band.

9. Consistency with prior chapters
Thermodynamic continuity: 
ğ‘
,
ğ¹
,
ğ‘ˆ
,
ğ‘†
,
ğ¶
 definitions match 7.1â€“7.4; 
ğ‘†
â€²
(
ğ›½
)
,
ğ‘†
â€²
â€²
(
ğ›½
)
 are used as live gates.

Critical region: All core experiments occur within 
[
0.3934
,
0.3990
]
 and report sensitivity to 
Â±
0.0014
 around 
ğ›½
ğ‘
.

Validation checks:

Agreement: 
ğ¶
ğ¿
 peak and 
ğ‘ˆ
4
 crossing estimates of 
ğ›½
ğ‘
 lie within the ignition band and within the propagated uncertainty.

Robustness: Results stable across seeds and sizes; curvature guard rarely triggered near 
ğ›½
ğ‘
.

Traceability: Every plot/table links to a configuration hash and seed list.

Pseudocode sketch (single sweep, Metropolis)
text
for sweep in 1..S:
  for attempt in 1..(Gamma(beta) * |Î›|):
    pick site i uniformly
    propose s_i' = 1 - s_i
    compute Î”E_i
    if |S''(beta)| > tau: continue  # curvature guard
    accept with prob min(1, exp(-beta * Î”E_i)) * g(beta)
  if sweep % measure_every == 0:
    record e(t), m(t); update autocorr; sample S(k_min)
